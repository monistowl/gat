name: Release Dry Run

on:
  workflow_dispatch:
    inputs:
      verbose_diagnostics:
        description: 'Enable verbose compiler output'
        required: false
        type: boolean
        default: false

permissions:
  contents: read

jobs:
  build-all:
    name: Build all platforms and variants (dry run)
    uses: ./.github/workflows/build-matrix.yml
    with:
      verbose_diagnostics: ${{ inputs.verbose_diagnostics }}
      upload_artifacts: true

  summary:
    name: Dry run summary
    runs-on: ubuntu-latest
    needs: build-all
    if: always()
    steps:
      - name: Print summary
        run: |
          echo "ğŸƒ Dry Run Complete"
          echo "ğŸ“¦ Build result: ${{ needs.build-all.result }}"
          echo "âœ… All artifacts are available in the Actions tab"
          echo "ğŸ“ To release: git tag v0.x.y && git push --tags"
