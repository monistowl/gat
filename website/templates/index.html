<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>{{ config.title }}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="{{ config.description }}" />

  <!-- Abridge Theme CSS (provides --c1, --f1, --a1, etc. variables) -->
  <link rel="stylesheet" href="{{ get_url(path='/abridge.css') | safe }}" />

  <!-- Tailwind via CDN for layout utilities -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    // Configure Tailwind to work with Abridge's theme
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            // Map to Abridge CSS variables
            'theme-bg': 'var(--c1)',
            'theme-bg-alt': 'var(--c2)',
            'theme-border': 'var(--c3)',
            'theme-muted': 'var(--c4)',
            'theme-text': 'var(--f1)',
            'theme-heading': 'var(--f2)',
            'theme-accent': 'var(--a1)',
            'theme-accent-hover': 'var(--a2)',
            'theme-success': 'var(--cg)',
            'theme-error': 'var(--cr)',
          }
        }
      }
    }
  </script>
  <style>
    /* Use Abridge theme variables throughout */
    body {
      background-color: var(--c1);
      color: var(--f1);
    }

    /* Terminal always stays dark for contrast */
    .terminal-block {
      background-color: #0d1117;
      color: #e6edf3;
    }

    /* Simple fade-in for images */
    @keyframes fadeIn {
      from { opacity: 0; transform: scale(1.02); }
      to { opacity: 1; transform: scale(1); }
    }
    .animate-fadeIn {
      animation: fadeIn 0.5s ease-out;
    }

    /* Card hover effect */
    .card-hover {
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .card-hover:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 30px -10px var(--a1);
    }
  </style>
</head>
<body class="min-h-screen font-sans overflow-x-hidden max-w-full" style="background:var(--c1);color:var(--f1);">

  <!-- Background Grid Effect (subtle) -->
  <div class="fixed inset-0 z-0 opacity-[0.03] pointer-events-none"
       style="background-image:linear-gradient(var(--c3) 1px, transparent 1px), linear-gradient(to right, var(--c3) 1px, transparent 1px);background-size:40px 40px;">
  </div>

  <!-- Navigation -->
  {% include "partials/header.html" %}

  <!-- Hero Section -->
  <section class="relative z-10 pt-20 pb-32 px-6 overflow-hidden">
    <div class="max-w-7xl mx-auto grid lg:grid-cols-2 gap-16 items-center">
      <div class="min-w-0">
        <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-mono mb-6"
             style="background:color-mix(in srgb, var(--a1) 15%, transparent);border:1px solid color-mix(in srgb, var(--a1) 30%, transparent);color:var(--a1);">
          <span class="text-xs">‚ö°</span>
          <span>Rust-Speed Grid Analytics</span>
        </div>
        <h1 class="text-5xl lg:text-7xl font-bold tracking-tight mb-6 leading-tight" style="color:var(--f2);">
          {{ config.extra.tagline | split(pat=". ") | first }}<br />
          <span style="color:var(--a1);">
            {{ config.extra.tagline | split(pat=". ") | last }}
          </span>
        </h1>
        <p class="text-lg mb-8 max-w-xl leading-relaxed" style="color:var(--f1);opacity:0.8;">
          {{ config.description }}
        </p>

        <div class="flex flex-col sm:flex-row gap-4 max-w-full">
          <div class="flex items-center gap-0 rounded-lg p-1 pr-4 shadow-lg overflow-x-auto min-w-0"
               style="background:var(--c2);border:1px solid var(--c3);">
            <span class="px-3 select-none shrink-0" style="color:var(--c4);">$</span>
            <code class="font-mono text-sm" style="color:var(--a1);">curl -fsSL https://github.com/monistowl/gat/releases/download/v{{ config.extra.version }}/install-modular.sh | bash</code>
            <button
              id="copyButton"
              class="ml-4 transition-colors cursor-pointer shrink-0"
              style="color:var(--c4);"
              type="button"
            >
              <span id="copyButtonLabel" class="text-xs">Copy</span>
            </button>
          </div>
          <a href="#features" class="px-6 py-3 rounded-lg font-medium transition-all shadow-lg flex items-center justify-center gap-2 sm:shrink-0"
             style="background:var(--a1); color: white;">
            <span>Get Started</span>
            <span>‚Ä∫</span>
          </a>
        </div>
      </div>

      <!-- Terminal Graphic (always dark for contrast) -->
      <div class="terminal-block relative rounded-xl overflow-hidden shadow-2xl font-mono text-sm transform transition-transform hover:scale-[1.01] duration-500"
           style="border:1px solid #30363d;">
        <div class="flex items-center gap-2 px-4 py-3 border-b" style="background:#161b22;border-color:#30363d;">
          <div class="w-3 h-3 rounded-full" style="background:#ff5f57;"></div>
          <div class="w-3 h-3 rounded-full" style="background:#febc2e;"></div>
          <div class="w-3 h-3 rounded-full" style="background:#28c840;"></div>
          <div class="ml-auto text-xs" style="color:#8b949e;">bash ‚Äî 80x24</div>
        </div>
        <div class="p-6 space-y-2">
          <div class="flex gap-2">
            <span style="color:#3fb950;">user@lab:~$</span>
            <span>gat pf dc grid.arrow --out flows.parquet</span>
          </div>
          <div class="italic pb-2" style="color:#8b949e;"># Loading 12k-bus system...</div>
          <div class="grid grid-cols-2 gap-x-8 gap-y-1 text-xs border-l-2 pl-4" style="color:#8b949e;border-color:#30363d;">
            <div>Nodes: <span style="color:#e6edf3;">12,400</span></div>
            <div>Branches: <span style="color:#e6edf3;">16,210</span></div>
            <div>Solver: <span style="color:#58a6ff;">Clarabel (Rust)</span></div>
            <div>Time: <span style="color:#3fb950;">42ms</span></div>
          </div>
          <div class="flex gap-2 pt-2">
            <span style="color:#3fb950;">user@lab:~$</span>
            <span class="animate-pulse">_</span>
          </div>
        </div>

        <!-- Floating Badge -->
        <div class="absolute bottom-4 right-4 backdrop-blur px-3 py-1.5 rounded text-xs font-medium"
             style="background:rgba(22,27,34,0.9);border:1px solid #30363d;color:#58a6ff;">
          Output: Parquet / Arrow
        </div>
      </div>
    </div>
  </section>

  <!-- Persona Selector (Sampler Pack) -->
  <section id="use-cases" class="relative z-10 py-24 border-y" style="background:var(--c2);border-color:var(--c3);">
    <div class="max-w-7xl mx-auto px-6">
      <div class="text-center mb-16">
        <h2 class="text-3xl font-bold mb-4" style="color:var(--f2);">Built for the entire ecosystem</h2>
        <p style="color:var(--f1);opacity:0.7;">Select your role to see how GAT changes your workflow.</p>
      </div>

      <div class="grid lg:grid-cols-12 gap-8">
        <!-- Sidebar Tabs -->
        <div class="lg:col-span-3 space-y-2">
          <button
            type="button"
            class="w-full text-left px-6 py-4 rounded-lg transition-all persona-tab"
            style="background:var(--c1);border:1px solid var(--a1);color:var(--f2);box-shadow:0 4px 20px -10px var(--a1);"
            data-tab="students"
          >
            <div class="font-medium mb-1">Grad Students &amp; Coders</div>
            <div class="text-xs opacity-60 uppercase tracking-wider">students</div>
          </button>
          <button
            type="button"
            class="w-full text-left px-6 py-4 rounded-lg transition-all persona-tab"
            style="background:transparent;border:1px solid transparent;color:var(--c4);"
            data-tab="startups"
          >
            <div class="font-medium mb-1">Startups &amp; Analysts</div>
            <div class="text-xs opacity-60 uppercase tracking-wider">startups</div>
          </button>
          <button
            type="button"
            class="w-full text-left px-6 py-4 rounded-lg transition-all persona-tab"
            style="background:transparent;border:1px solid transparent;color:var(--c4);"
            data-tab="enterprise"
          >
            <div class="font-medium mb-1">Operators &amp; Regulators</div>
            <div class="text-xs opacity-60 uppercase tracking-wider">enterprise</div>
          </button>
          <button
            type="button"
            class="w-full text-left px-6 py-4 rounded-lg transition-all persona-tab"
            style="background:transparent;border:1px solid transparent;color:var(--c4);"
            data-tab="ai"
          >
            <div class="font-medium mb-1">AI &amp; Agent Builders</div>
            <div class="text-xs opacity-60 uppercase tracking-wider">ai</div>
          </button>
        </div>

        <!-- Content Area -->
        <div class="lg:col-span-9">
          <div class="rounded-2xl relative overflow-hidden flex flex-col h-full group"
               style="background:var(--c1);border:1px solid var(--c3);">

            <!-- Background Image Layer -->
            <div class="absolute inset-0 z-0">
              <img
                id="personaBgImage"
                src="https://images.unsplash.com/photo-1555066931-4365d14bab8c?auto=format&fit=crop&q=80&w=1000"
                alt="Background"
                class="w-full h-full object-cover opacity-5"
              />
            </div>

            <div class="relative z-10 flex flex-col md:flex-row h-full">
              <!-- Left: Text Content -->
              <div class="p-8 lg:p-10 md:w-3/5 flex flex-col">
                <div class="flex items-center gap-3 mb-6 font-mono text-sm uppercase tracking-wider" style="color:var(--a1);">
                  <span class="w-2 h-2 rounded-full" style="background:var(--a1);"></span>
                  <span id="personaSubtitle">Open Source &amp; Academic Community</span>
                </div>

                <h3 id="personaSlogan" class="text-2xl md:text-3xl font-bold mb-4 leading-tight" style="color:var(--f2);">
                  Your thesis deserves better than MATLAB.
                </h3>

                <p id="personaDescription" class="text-base mb-6 leading-relaxed" style="color:var(--f1);opacity:0.8;">
                  GAT is what happens when you rewrite half the power-systems curriculum in Rust and ship it as a single executable. Runs everywhere, solves fast, zero ceremony.
                </p>

                <div class="mt-auto">
                  <div class="p-4 rounded-lg relative mb-6" style="background:var(--c2);border:1px solid var(--c3);">
                    <div class="mb-1 font-mono text-[10px] uppercase tracking-wider flex items-center gap-2" style="color:var(--a1);">
                      <span class="text-[10px]">‚åò</span>
                      <span>The Scenario</span>
                    </div>
                    <p id="personaVignette" class="italic text-sm" style="color:var(--f1);">
                      "You sit down to reproduce a paper. The Python environment breaks. The MATLAB license expired. You remember GAT exists. One command later, you're running AC-OPF and generating Parquet files that drop straight into Polars. Suddenly your entire research pipeline works again."
                    </p>
                  </div>

                  <!-- Feature List Mini -->
                  <div id="personaFeatures" class="flex flex-wrap gap-4">
                    <!-- Populated by JS -->
                  </div>
                </div>

                <!-- Deep Dive Section -->
                <div class="mt-6 pt-6" style="border-top:1px solid var(--c3);">
                  <div class="flex items-center gap-2 font-bold text-xs mb-2" style="color:var(--f2);">
                    <span style="color:var(--a1);">‚ûú</span>
                    <span>WHY IT MATTERS</span>
                  </div>
                  <p id="personaDeepDive" class="text-sm leading-relaxed" style="color:var(--f1);opacity:0.7;">
                    GAT is the toolkit every power-systems student always wished existed: reproducible, dependency-free, lightning-fast, and fully hackable. Run AC-OPF, N-1, SE, contingency analysis, and reliability metrics with a local binary smaller than most homework PDFs. Export to Arrow/Parquet, visualize via a built-in Ratatui dashboard, and tear apart the Rust code to see how everything works. Academic use is free ‚Äî and contributions shape the future of open grid tooling.
                  </p>
                </div>
              </div>

              <!-- Right: Image Panel -->
              <div class="hidden md:block md:w-2/5 relative overflow-hidden" style="border-left:1px solid var(--c3);">
                <div class="absolute inset-0 z-10" style="background:linear-gradient(to top, var(--c1), transparent);"></div>
                <img
                  id="personaMainImage"
                  src="https://images.unsplash.com/photo-1555066931-4365d14bab8c?auto=format&fit=crop&q=80&w=1000"
                  alt="Grad Students & Coders"
                  class="w-full h-full object-cover animate-fadeIn"
                />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Features Grid -->
  <section id="features" class="relative z-10 py-24 px-6">
    <div class="max-w-7xl mx-auto">
      <div class="grid md:grid-cols-3 gap-8">
        <div class="p-8 rounded-xl card-hover group" style="background:var(--c2);border:1px solid var(--c3);">
          <div class="mb-4 w-12 h-12 rounded-lg flex items-center justify-center text-2xl" style="background:var(--c1);border:1px solid var(--c3);">
            ‚öôÔ∏è
          </div>
          <h3 class="text-xl font-bold mb-3" style="color:var(--f2);">Native Rust Speed</h3>
          <p class="leading-relaxed text-sm" style="color:var(--f1);opacity:0.8;">
            Forget waiting minutes for OPF. GAT runs industrial-grade solvers in milliseconds. Ideal for N-1 screening and real-time validation.
          </p>
        </div>

        <div class="p-8 rounded-xl card-hover group" style="background:var(--c2);border:1px solid var(--c3);">
          <div class="mb-4 w-12 h-12 rounded-lg flex items-center justify-center text-2xl" style="background:var(--c1);border:1px solid var(--c3);">
            üóÑÔ∏è
          </div>
          <h3 class="text-xl font-bold mb-3" style="color:var(--f2);">Data-First Architecture</h3>
          <p class="leading-relaxed text-sm" style="color:var(--f1);opacity:0.8;">
            Inputs and outputs are Arrow &amp; Parquet. Drop results straight into Polars, DuckDB, or Pandas without parsing text files.
          </p>
        </div>

        <div class="p-8 rounded-xl card-hover group" style="background:var(--c2);border:1px solid var(--c3);">
          <div class="mb-4 w-12 h-12 rounded-lg flex items-center justify-center text-2xl" style="background:var(--c1);border:1px solid var(--c3);">
            üîí
          </div>
          <h3 class="text-xl font-bold mb-3" style="color:var(--f2);">Air-Gap Ready</h3>
          <p class="leading-relaxed text-sm" style="color:var(--f1);opacity:0.8;">
            No internet required. No license servers. A single binary that runs safely behind your firewall or in an isolated enclave.
          </p>
        </div>

        <div class="p-8 rounded-xl card-hover group" style="background:var(--c2);border:1px solid var(--c3);">
          <div class="mb-4 w-12 h-12 rounded-lg flex items-center justify-center text-2xl" style="background:var(--c1);border:1px solid var(--c3);">
            üìä
          </div>
          <h3 class="text-xl font-bold mb-3" style="color:var(--f2);">Visual Dashboard</h3>
          <p class="leading-relaxed text-sm" style="color:var(--f1);opacity:0.8;">
            Includes a built-in TUI (Ratatui) for exploring models, results, and reliability metrics directly from the terminal.
          </p>
        </div>

        <div class="p-8 rounded-xl card-hover group" style="background:var(--c2);border:1px solid var(--c3);">
          <div class="mb-4 w-12 h-12 rounded-lg flex items-center justify-center text-2xl" style="background:var(--c1);border:1px solid var(--c3);">
            üíª
          </div>
          <h3 class="text-xl font-bold mb-3" style="color:var(--f2);">Agent-Ready API</h3>
          <p class="leading-relaxed text-sm" style="color:var(--f1);opacity:0.8;">
            Designed for tool-use. MCP server endpoints and structured JSON outputs make GAT the perfect physics engine for AI agents.
          </p>
        </div>

        <div class="p-8 rounded-xl card-hover group" style="background:var(--c2);border:1px solid var(--c3);">
          <div class="mb-4 w-12 h-12 rounded-lg flex items-center justify-center text-2xl" style="background:var(--c1);border:1px solid var(--c3);">
            üìñ
          </div>
          <h3 class="text-xl font-bold mb-3" style="color:var(--f2);">Open Core</h3>
          <p class="leading-relaxed text-sm" style="color:var(--f1);opacity:0.8;">
            Academic use is free forever. Contributions shape the future of open grid tooling. Documentation that actually exists.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Web Studio & WASM Notebook Section -->
  <section id="web-studio" class="relative z-10 py-24 border-y px-6 overflow-hidden" style="background:var(--c2);border-color:var(--c3);">
    <div class="max-w-7xl mx-auto relative space-y-12">
      <div class="space-y-6 w-full">
        <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-mono"
             style="background:var(--c1);border:1px solid var(--c3);color:var(--c4);">
          <span>Preview</span>
          <span class="text-[10px]">GAT Studio ‚Ä¢ Browser + WASM</span>
        </div>
        <h2 class="text-3xl lg:text-4xl font-bold leading-tight" style="color:var(--f2);">
          A demo web GUI that speaks <span style="color:var(--a1);">Rust</span>, <span style="color:var(--a2);">WASM</span>, and the GAT CLI.
        </h2>
        <p class="leading-relaxed text-lg" style="color:var(--f1);opacity:0.8;">
          <em style="color:var(--c4);">(Coming soon)</em> Ship the same workflows to the browser with a WASM build of <strong>gat-notebook</strong>. The Studio mock shows how the CLI, notebook cells, and live outputs stay in lockstep‚Äîperfect for interactive docs, training labs, or lightweight field tools.
        </p>

        <div class="grid sm:grid-cols-2 gap-4">
          <div class="rounded-xl p-4" style="background:var(--c1);border:1px solid var(--c3);">
            <div class="text-xs font-mono mb-2" style="color:var(--a1);">WASM Bridge</div>
            <ul class="text-sm space-y-2 list-disc list-inside" style="color:var(--f1);">
              <li>Compile <code>gat-notebook</code> via <code>wasm-pack</code></li>
              <li>Expose a thin JS harness for file drops and blobs</li>
              <li>Stream Arrow/Parquet frames to the UI viewer</li>
            </ul>
          </div>
          <div class="rounded-xl p-4" style="background:var(--c1);border:1px solid var(--c3);">
            <div class="text-xs font-mono mb-2" style="color:var(--a1);">UI Wiring</div>
            <ul class="text-sm space-y-2 list-disc list-inside" style="color:var(--f1);">
              <li>Notebook cell buttons call the WASM shim</li>
              <li>Status badges mirror CLI telemetry</li>
              <li>Result panes reuse Arrow viewers from the demo</li>
            </ul>
          </div>
        </div>

        <div class="grid sm:grid-cols-3 gap-3 text-sm">
          <div class="flex items-start gap-3 rounded-lg p-3" style="background:var(--c1);border:1px solid var(--c3);color:var(--f1);">
            <span style="color:var(--a1);">‚ë†</span>
            <div>
              <div class="font-semibold" style="color:var(--f2);">Build</div>
              <p style="opacity:0.8;">Bundle <code>gat-notebook</code> with <code>--target web</code> and publish to <code>static/</code>.</p>
            </div>
          </div>
          <div class="flex items-start gap-3 rounded-lg p-3" style="background:var(--c1);border:1px solid var(--c3);color:var(--f1);">
            <span style="color:var(--a1);">‚ë°</span>
            <div>
              <div class="font-semibold" style="color:var(--f2);">Wire</div>
              <p style="opacity:0.8;">Attach run buttons to the WASM bridge and feed stdin/stdout to the panels.</p>
            </div>
          </div>
          <div class="flex items-start gap-3 rounded-lg p-3" style="background:var(--c1);border:1px solid var(--c3);color:var(--f1);">
            <span style="color:var(--a1);">‚ë¢</span>
            <div>
              <div class="font-semibold" style="color:var(--f2);">Ship</div>
              <p style="opacity:0.8;">Reuse this layout for docs, on-prem demos, or embedded field tablets.</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Demo Web GUI Mock (always dark for contrast) -->
      <div class="terminal-block rounded-2xl shadow-2xl overflow-hidden relative w-full" style="border:1px solid #30363d;">
        <div class="relative">
          <div class="flex items-center justify-between px-5 py-4 border-b" style="background:#161b22;border-color:#30363d;">
            <div class="flex items-center gap-3">
              <div class="w-8 h-8 rounded-lg flex items-center justify-center font-bold" style="background:rgba(88,166,255,0.2);border:1px solid rgba(88,166,255,0.5);color:#58a6ff;">GN</div>
              <div>
                <div class="font-semibold" style="color:#e6edf3;">GAT Notebook (WASM preview)</div>
                <div class="text-xs" style="color:#8b949e;">Interactive AC-OPF cell ‚ûú live result panes</div>
              </div>
            </div>
            <div class="flex items-center gap-2">
              <button
                id="notebookDrawerToggle"
                type="button"
                class="text-xs px-3 py-2 rounded-lg transition-colors"
                style="background:#21262d;border:1px solid #30363d;color:#e6edf3;"
              >
                Demo notebooks
              </button>
              <span id="notebookStatusBadge" class="px-3 py-1 text-xs rounded-full" style="background:rgba(63,185,80,0.15);color:#3fb950;border:1px solid rgba(63,185,80,0.4);">Idle ‚Ä¢ ready</span>
              <button id="notebookRunButton" type="button" class="text-white text-sm px-4 py-2 rounded-lg shadow-md transition-colors" style="background:#238636;">Run AC-OPF quickstart in browser</button>
            </div>
          </div>

          <div class="grid md:grid-cols-5 gap-0">
            <div class="md:col-span-3 border-r p-5 space-y-4" style="background:#0d1117;border-color:#30363d;">
              <div class="rounded-xl p-3 text-xs flex items-center justify-between" style="background:#161b22;border:1px solid #30363d;color:#e6edf3;">
                <div class="flex flex-col">
                  <span class="uppercase tracking-[0.08em] text-[10px] font-mono" style="color:#58a6ff;">Selected demo</span>
                  <span id="notebookSelectedTitle" class="font-semibold">AC-OPF quickstart</span>
                  <span id="notebookSelectedDesc" style="color:#8b949e;">IEEE 14-bus ‚Ä¢ CLI parity</span>
                </div>
                <div class="text-right text-[11px] font-mono" style="color:#8b949e;">
                  <div id="notebookSelectedFiles">case14.arrow ¬∑ limits.csv</div>
                  <div id="notebookSelectedCommand" style="color:#e6edf3;opacity:0.7;">gat opf ac case14.arrow --limits limits.csv --out opf.parquet</div>
                </div>
              </div>
              <div class="flex items-center justify-between text-xs uppercase tracking-[0.08em]" style="color:#8b949e;">
                <span class="font-mono">Cell 12 ‚Ä¢ ac_opf()</span>
                <span class="flex items-center gap-2" style="color:#58a6ff;">wasm-bindgen <span class="w-2 h-2 rounded-full" style="background:#58a6ff;"></span></span>
              </div>
              <div class="rounded-xl p-4 font-mono text-sm space-y-2" style="background:#0d1117;border:1px solid #30363d;color:#e6edf3;">
                <div class="flex items-start gap-3">
                  <span style="color:#484f58;">1</span>
                  <span><span style="color:#ff7b72;">use</span> gat_notebook::{ac_opf, ArrowSink};</span>
                </div>
                <div class="flex items-start gap-3">
                  <span style="color:#484f58;">2</span>
                  <span><span style="color:#ff7b72;">let</span> grid = load_arrow(<span style="color:#a5d6ff;">"case14.arrow"</span>)?;</span>
                </div>
                <div class="flex items-start gap-3">
                  <span style="color:#484f58;">3</span>
                  <span><span style="color:#ff7b72;">let</span> limits = load_csv(<span style="color:#a5d6ff;">"branch_limits.csv"</span>)?;</span>
                </div>
                <div class="flex items-start gap-3">
                  <span style="color:#484f58;">4</span>
                  <span><span style="color:#ff7b72;">let</span> result = ac_opf(grid, limits).<span style="color:#d2a8ff;">await</span>?;</span>
                </div>
                <div class="flex items-start gap-3">
                  <span style="color:#484f58;">5</span>
                  <span>ArrowSink::from(result).download(<span style="color:#a5d6ff;">"opf.parquet"</span>);</span>
                </div>
              </div>

              <div class="rounded-xl p-4" style="background:#161b22;border:1px solid #30363d;">
                <div class="text-xs mb-2" style="color:#8b949e;">CLI parity</div>
                <div class="flex flex-wrap gap-2 font-mono text-[11px]" style="color:#e6edf3;">
                  <span class="px-2 py-1 rounded" style="background:#0d1117;border:1px solid #30363d;">gat opf ac grid.arrow --limits branch_limits.csv</span>
                  <span class="px-2 py-1 rounded" style="background:#0d1117;border:1px solid #30363d;">--out opf.parquet</span>
                  <span class="px-2 py-1 rounded" style="background:#0d1117;border:1px solid #30363d;">--mipgap 1e-4</span>
                  <span class="px-2 py-1 rounded" style="background:#0d1117;border:1px solid #30363d;">--solver clarabel</span>
                </div>
              </div>
            </div>

            <div class="md:col-span-2 p-5 space-y-4" style="background:#0d1117;">
              <div class="rounded-xl p-4 space-y-4" style="background:#161b22;border:1px solid #30363d;">
                <div class="flex items-center justify-between text-xs" style="color:#8b949e;">
                  <span class="font-semibold" style="color:#e6edf3;">Live outputs</span>
                  <span class="font-mono" style="color:#3fb950;">Parquet</span>
                </div>
                <div id="notebookOutput" class="text-sm space-y-1 font-mono rounded-lg p-3" style="background:#0d1117;border:1px solid #30363d;color:#e6edf3;">
                  <div>flows.parquet ‚Üí 14 branches</div>
                  <div>binding constraints: 2</div>
                  <div>objective: 13,284.22</div>
                </div>
                <div class="pt-4" style="border-top:1px solid #30363d;">
                  <div class="flex items-center justify-between text-xs mb-2" style="color:#8b949e;">
                    <div class="flex items-center gap-2">
                      <span style="color:#58a6ff;">üîó</span>
                      <span class="uppercase tracking-[0.08em] font-mono">WASM embed status</span>
                    </div>
                    <button id="wasmEmbedButton" type="button" class="text-[11px] px-3 py-1 rounded transition-colors" style="background:#21262d;border:1px solid #30363d;color:#e6edf3;">Probe bundle</button>
                  </div>
                  <div id="wasmEmbedStatus" class="text-xs font-mono rounded-lg px-3 py-2" style="background:#0d1117;border:1px solid #30363d;color:#e6edf3;">Waiting for wasm-pack output‚Ä¶</div>
                  <div id="wasmSupportStatus" class="text-[11px] mt-2" style="color:#8b949e;">Drop <code>notebook.js</code> and <code>notebook_bg.wasm</code> into <code>static/wasm/gat-notebook</code> to hydrate this embed. The page will look for a <code>run_demo</code> (or <code>run_cell</code>) export to wire the run button.</div>
                  <div id="wasmEmbedLog" class="text-[11px] font-mono rounded-lg px-3 py-2 mt-3 space-y-1" style="background:#0d1117;border:1px solid #30363d;color:#e6edf3;">
                    <div>Awaiting bundle‚Ä¶</div>
                    <div style="color:#3fb950;">WASM supported. Looking for gat-notebook artifacts‚Ä¶</div>
                  </div>
                </div>
              </div>

              <div class="rounded-xl p-4 space-y-3" style="background:#161b22;border:1px solid #30363d;">
                <div class="flex items-center gap-2 text-xs uppercase tracking-[0.08em]" style="color:#8b949e;">
                  <span style="color:#58a6ff;">‚ñ∏</span>
                  <span>Run pipeline</span>
                </div>
                <div id="notebookTimeline" class="space-y-2 text-sm" style="color:#e6edf3;">
                  <div class="flex items-center gap-2">
                    <span class="w-2 h-2 rounded-full" style="background:#484f58;"></span>
                    <span class="font-mono">Compile wasm build</span>
                  </div>
                  <div class="flex items-center gap-2">
                    <span class="w-2 h-2 rounded-full" style="background:#484f58;"></span>
                    <span class="font-mono">Hydrate notebook shell</span>
                  </div>
                  <div class="flex items-center gap-2">
                    <span class="w-2 h-2 rounded-full" style="background:#484f58;"></span>
                    <span class="font-mono">Solve ac_opf</span>
                  </div>
                  <div class="flex items-center gap-2">
                    <span class="w-2 h-2 rounded-full" style="background:#484f58;"></span>
                    <span class="font-mono">Stream outputs</span>
                  </div>
                </div>
              </div>

              <div class="flex flex-wrap gap-2 text-[11px] font-mono" style="color:#8b949e;">
                <span class="px-2 py-1 rounded" style="background:#161b22;border:1px solid #30363d;">Service worker caching</span>
                <span class="px-2 py-1 rounded" style="background:#161b22;border:1px solid #30363d;">Edge-friendly</span>
                <span class="px-2 py-1 rounded" style="background:#161b22;border:1px solid #30363d;">No GPU required</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Documentation Links Section -->
  <section id="docs" class="relative z-10 py-24 px-6">
    <div class="max-w-7xl mx-auto">
      <div class="text-center mb-16">
        <h2 class="text-3xl font-bold mb-4" style="color:var(--f2);">Documentation & Resources</h2>
        <p style="color:var(--f1);opacity:0.7;">Everything you need to get started with GAT.</p>
      </div>

      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
        <a href="{{ get_url(path='/about/') }}" class="p-6 rounded-xl card-hover group block" style="background:var(--c2);border:1px solid var(--c3);">
          <div class="flex items-center gap-3 mb-4">
            <div class="w-10 h-10 rounded-lg flex items-center justify-center text-xl" style="background:var(--c1);border:1px solid var(--c3);">
              üìö
            </div>
            <h3 class="text-lg font-bold" style="color:var(--f2);">Getting Started</h3>
          </div>
          <p class="text-sm leading-relaxed" style="color:var(--f1);opacity:0.8;">
            Learn about GAT, its philosophy, and how to get started.
          </p>
        </a>

        <a href="{{ get_url(path='/guide/') }}" class="p-6 rounded-xl card-hover group block" style="background:var(--c2);border:1px solid var(--c3);">
          <div class="flex items-center gap-3 mb-4">
            <div class="w-10 h-10 rounded-lg flex items-center justify-center text-xl" style="background:var(--c1);border:1px solid var(--c3);">
              üìñ
            </div>
            <h3 class="text-lg font-bold" style="color:var(--f2);">Guides & Tutorials</h3>
          </div>
          <p class="text-sm leading-relaxed" style="color:var(--f1);opacity:0.8;">
            End-to-end walkthroughs for power flow, OPF, contingency analysis, and more.
          </p>
        </a>

        <a href="{{ config.extra.repo_url }}/blob/main/AGENTS.md" class="p-6 rounded-xl card-hover group block" style="background:var(--c2);border:1px solid var(--c3);">
          <div class="flex items-center gap-3 mb-4">
            <div class="w-10 h-10 rounded-lg flex items-center justify-center text-xl" style="background:var(--c1);border:1px solid var(--c3);">
              ü§ñ
            </div>
            <h3 class="text-lg font-bold" style="color:var(--f2);">Agent Integration</h3>
          </div>
          <p class="text-sm leading-relaxed" style="color:var(--f1);opacity:0.8;">
            MCP server setup and AI agent integration guide.
          </p>
        </a>

        <a href="{{ get_url(path='/contributing/') }}" class="p-6 rounded-xl card-hover group block" style="background:var(--c2);border:1px solid var(--c3);">
          <div class="flex items-center gap-3 mb-4">
            <div class="w-10 h-10 rounded-lg flex items-center justify-center text-xl" style="background:var(--c1);border:1px solid var(--c3);">
              üöÄ
            </div>
            <h3 class="text-lg font-bold" style="color:var(--f2);">Contributing</h3>
          </div>
          <p class="text-sm leading-relaxed" style="color:var(--f1);opacity:0.8;">
            How to contribute code, documentation, and feedback to GAT.
          </p>
        </a>

        <a href="{{ config.extra.repo_url }}/tree/main/examples" class="p-6 rounded-xl card-hover group block" style="background:var(--c2);border:1px solid var(--c3);">
          <div class="flex items-center gap-3 mb-4">
            <div class="w-10 h-10 rounded-lg flex items-center justify-center text-xl" style="background:var(--c1);border:1px solid var(--c3);">
              üí°
            </div>
            <h3 class="text-lg font-bold" style="color:var(--f2);">Examples</h3>
          </div>
          <p class="text-sm leading-relaxed" style="color:var(--f1);opacity:0.8;">
            Real-world examples and use cases for GAT.
          </p>
        </a>

        <a href="{{ config.extra.repo_url }}/issues" class="p-6 rounded-xl card-hover group block" style="background:var(--c2);border:1px solid var(--c3);">
          <div class="flex items-center gap-3 mb-4">
            <div class="w-10 h-10 rounded-lg flex items-center justify-center text-xl" style="background:var(--c1);border:1px solid var(--c3);">
              üêõ
            </div>
            <h3 class="text-lg font-bold" style="color:var(--f2);">Issues & Support</h3>
          </div>
          <p class="text-sm leading-relaxed" style="color:var(--f1);opacity:0.8;">
            Report bugs, request features, or get help from the community.
          </p>
        </a>
      </div>
    </div>
  </section>

  <!-- Footer / Social Proof -->
  <footer class="relative z-10 py-20 border-t text-center px-6" style="background:var(--c2);border-color:var(--c3);">
    <div class="max-w-4xl mx-auto">
      <h2 class="text-3xl font-bold mb-6" style="color:var(--f2);">The Grid Finally Gets Its Rust Moment</h2>
      <p class="mb-10 text-lg" style="color:var(--f1);opacity:0.8;">
        Join the researchers, startups, and operators replacing legacy toolchains with GAT.
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center mb-16">
        <a href="{{ get_url(path='/guide/') }}" class="px-8 py-3 rounded-lg font-bold transition-colors" style="background:var(--a1);color:white;">
          Read the Guides
        </a>
        <a href="{{ config.extra.repo_url }}" class="px-8 py-3 rounded-lg font-medium transition-colors" style="background:var(--c1);border:1px solid var(--c3);color:var(--f1);">
          View on GitHub
        </a>
      </div>

      <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-left pt-12" style="border-top:1px solid var(--c3);">
        <div>
          <h4 class="font-bold mb-4" style="color:var(--f2);">Product</h4>
          <ul class="space-y-2 text-sm" style="color:var(--c4);">
            <li><a href="{{ get_url(path='/guide/') }}" class="transition-colors hover:underline" style="color:inherit;">Features</a></li>
            <li><a href="{{ config.extra.repo_url }}/tree/main/docs" class="transition-colors hover:underline" style="color:inherit;">Integrations</a></li>
            <li><a href="{{ get_url(path='/guide/adms/') }}" class="transition-colors hover:underline" style="color:inherit;">Enterprise</a></li>
            <li><a href="{{ config.extra.repo_url }}/releases" class="transition-colors hover:underline" style="color:inherit;">Changelog</a></li>
          </ul>
        </div>
        <div>
          <h4 class="font-bold mb-4" style="color:var(--f2);">Resources</h4>
          <ul class="space-y-2 text-sm" style="color:var(--c4);">
            <li><a href="{{ get_url(path='/guide/') }}" class="transition-colors hover:underline" style="color:inherit;">Documentation</a></li>
            <li><a href="{{ get_url(path='/reference/') }}" class="transition-colors hover:underline" style="color:inherit;">API Reference</a></li>
            <li><a href="{{ config.extra.repo_url }}/tree/main/examples" class="transition-colors hover:underline" style="color:inherit;">Case Studies</a></li>
            <li><a href="{{ config.extra.repo_url }}/discussions" class="transition-colors hover:underline" style="color:inherit;">Community</a></li>
          </ul>
        </div>
        <div>
          <h4 class="font-bold mb-4" style="color:var(--f2);">Project</h4>
          <ul class="space-y-2 text-sm" style="color:var(--c4);">
            <li><a href="{{ get_url(path='/about/') }}" class="transition-colors hover:underline" style="color:inherit;">About</a></li>
            <li><a href="{{ get_url(path='/contributing/') }}" class="transition-colors hover:underline" style="color:inherit;">Contributing</a></li>
            <li><a href="{{ get_url(path='/license/') }}" class="transition-colors hover:underline" style="color:inherit;">License</a></li>
            <li><a href="{{ get_url(path='/security/') }}" class="transition-colors hover:underline" style="color:inherit;">Security</a></li>
          </ul>
        </div>
        <div>
          <h4 class="font-bold mb-4" style="color:var(--f2);">Connect</h4>
          <ul class="space-y-2 text-sm" style="color:var(--c4);">
            <li><a href="{{ config.extra.repo_url }}" class="transition-colors hover:underline" style="color:inherit;">GitHub</a></li>
            <li><a href="{{ config.extra.repo_url }}/issues" class="transition-colors hover:underline" style="color:inherit;">Issues</a></li>
            <li><a href="{{ config.extra.repo_url }}/discussions" class="transition-colors hover:underline" style="color:inherit;">Discussions</a></li>
            <li><a href="{{ config.extra.repo_url }}/releases" class="transition-colors hover:underline" style="color:inherit;">Releases</a></li>
          </ul>
        </div>
      </div>

      <div class="mt-12 pt-8 flex flex-col md:flex-row justify-between items-center text-sm" style="border-top:1px solid var(--c3);color:var(--c4);">
        <p>¬© 2025 Grid Analysis Toolkit. Open-core license.</p>
        <div class="flex gap-4 mt-4 md:mt-0">
          <a href="{{ config.extra.repo_url }}" class="cursor-pointer transition-colors" aria-label="GitHub" style="color:var(--c4);">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.840 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
          </a>
        </div>
      </div>
    </div>
  </footer>

  <!-- Simple JS for interactivity -->
  <script src="{{ get_url(path='/main.js') }}"></script>
</body>
</html>
