{% extends "base.html" %}

{% block title %}{{ section.title }} | {{ config.title }}{% endblock title %}
{% block description %}{{ section.description | default(value=config.description) }}{% endblock description %}

{% block content %}
<div class="relative z-10">
  <!-- Navigation Bar -->
  <nav class="border-b border-slate-800 bg-slate-950/80 backdrop-blur-md sticky top-0 z-50">
    <div class="max-w-7xl mx-auto px-6 h-16 flex items-center justify-between">
      <div class="flex items-center gap-8">
        <a href="/" class="flex items-center gap-2 hover:opacity-80 transition-opacity">
          <div class="w-8 h-8 bg-orange-600 rounded flex items-center justify-center font-bold text-white font-mono">
            G
          </div>
          <span class="font-bold text-xl tracking-tight">GAT</span>
        </a>
        <a href="/docs/" class="text-sm text-slate-400 hover:text-orange-500 transition-colors">
          Documentation
        </a>
        <a href="/blog/" class="text-sm text-orange-500 font-medium">
          Blog
        </a>
      </div>
      <a href="{{ config.extra.repo_url }}" class="text-sm text-slate-400 hover:text-white transition-colors">
        GitHub
      </a>
    </div>
  </nav>

  <div class="max-w-4xl mx-auto px-6 py-12">
    <!-- Header -->
    <div class="mb-12">
      <h1 class="text-5xl font-bold text-white mb-4">{{ section.title }}</h1>
      <p class="text-xl text-slate-400">{{ section.description }}</p>

      <!-- RSS Link -->
      <div class="mt-6">
        <a href="/gat/rss.xml" class="inline-flex items-center gap-2 text-orange-500 hover:text-orange-400 transition-colors">
          <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
            <path d="M6.503 20.752c0 1.794-1.456 3.248-3.251 3.248-1.796 0-3.252-1.454-3.252-3.248 0-1.794 1.456-3.248 3.252-3.248 1.795.001 3.251 1.454 3.251 3.248zm-6.503-12.572v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817c-.062-8.71-7.118-15.758-15.839-15.82zm0-3.368c10.58.046 19.152 8.594 19.183 19.188h4.817c-.03-13.231-10.755-23.954-24-24v4.812z"/>
          </svg>
          Subscribe via RSS
        </a>
      </div>
    </div>

    <!-- Blog Posts -->
    <div class="space-y-8">
      {% for page in section.pages %}
      {% if page.extra.external_url %}
      <!-- External Article Card -->
      <article class="bg-gradient-to-br from-slate-900/60 to-slate-900/40 border-2 border-slate-700 rounded-lg p-8 hover:border-orange-500/50 transition-all relative overflow-hidden">
        <!-- External indicator badge -->
        <div class="absolute top-4 right-4">
          <div class="flex items-center gap-2 bg-slate-800/80 backdrop-blur px-3 py-1 rounded-full border border-slate-600">
            <svg class="w-3 h-3 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/>
            </svg>
            <span class="text-xs text-slate-400 uppercase tracking-wider font-medium">{{ page.extra.source_type | default(value="External") }}</span>
          </div>
        </div>

        <div class="flex items-center gap-3 text-sm text-slate-500 mb-3">
          <time datetime="{{ page.date }}">{{ page.date | date(format="%B %d, %Y") }}</time>
          {% if page.extra.source %}
          <span>•</span>
          <span class="text-slate-400">{{ page.extra.source }}</span>
          {% endif %}
          {% if page.taxonomies.tags %}
          <span>•</span>
          <div class="flex gap-2">
            {% for tag in page.taxonomies.tags %}
            <span class="text-orange-500">#{{ tag }}</span>
            {% endfor %}
          </div>
          {% endif %}
        </div>

        <h2 class="text-2xl font-bold text-white mb-3 pr-24">
          {{ page.title }}
        </h2>

        <p class="text-slate-400 mb-6">{{ page.description }}</p>

        <a href="{{ page.extra.external_url }}" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-2 px-4 py-2 bg-slate-800 hover:bg-orange-600 text-white rounded-lg transition-colors">
          Read on {{ page.extra.source | default(value="source") }}
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/>
          </svg>
        </a>
      </article>
      {% else %}
      <!-- Regular Blog Post Card -->
      <article class="bg-slate-900/40 border border-slate-800 rounded-lg p-8 hover:border-orange-500/50 transition-all">
        <div class="flex items-center gap-3 text-sm text-slate-500 mb-3">
          <time datetime="{{ page.date }}">{{ page.date | date(format="%B %d, %Y") }}</time>
          {% if page.taxonomies.tags %}
          <span>•</span>
          <div class="flex gap-2">
            {% for tag in page.taxonomies.tags %}
            <span class="text-orange-500">#{{ tag }}</span>
            {% endfor %}
          </div>
          {% endif %}
        </div>

        <h2 class="text-2xl font-bold text-white mb-3">
          <a href="{{ page.permalink }}" class="hover:text-orange-500 transition-colors">
            {{ page.title }}
          </a>
        </h2>

        <p class="text-slate-400 mb-4">{{ page.description }}</p>

        <a href="{{ page.permalink }}" class="inline-flex items-center gap-2 text-orange-500 hover:text-orange-400 transition-colors">
          Read more
          <span>→</span>
        </a>
      </article>
      {% endif %}
      {% endfor %}
    </div>

    {% if section.pages | length == 0 %}
    <div class="text-center py-12 text-slate-500">
      <p>No blog posts yet. Stay tuned for updates!</p>
    </div>
    {% endif %}
  </div>
</div>
{% endblock content %}
