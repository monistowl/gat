{% extends "base.html" %}

{% block content %}
<div class="relative z-10">
  {% include "partials/header.html" %}

  <div class="max-w-screen-2xl mx-auto px-6 py-8 grid lg:grid-cols-12 gap-6 xl:gap-8">
    {% set doc_home = section %}
    {% set doc_home_label = section.title | default(value="Docs") %}
    {% set current_path = current_path %}
    {% set doc_home_url = section.permalink %}
    {% include "partials/sidebar.html" %}

    <main class="lg:col-span-9 xl:col-span-9">
      <article style="background: color-mix(in srgb, var(--c2) 20%, transparent); border: 1px solid var(--c3); border-radius: 0.5rem;" class="p-8 lg:p-12">
        <div class="flex items-center justify-between text-sm mb-6" style="color: var(--c4);">
          <div>
            <a href="{{ get_url(path='/') }}" style="color: var(--c4); text-decoration: none; transition: color 0.2s;" onmouseover="this.style.color='var(--a1)'" onmouseout="this.style.color='var(--c4)'">Home</a>
            <span class="mx-2">/</span>
            <a href="{{ get_url(path='/docs/') }}" style="color: var(--c4); text-decoration: none; transition: color 0.2s;" onmouseover="this.style.color='var(--a1)'" onmouseout="this.style.color='var(--c4)'">Docs</a>
            {% if section.ancestors %}
              {% for ancestor in section.ancestors %}
                {% set ancestor_section = get_section(path=ancestor) %}
                <span class="mx-2">/</span>
                <a href="{{ ancestor_section.permalink }}" style="color: var(--c4); text-decoration: none; transition: color 0.2s;" onmouseover="this.style.color='var(--a1)'" onmouseout="this.style.color='var(--c4)'">{{ ancestor_section.title }}</a>
              {% endfor %}
            {% endif %}
            <span class="mx-2">/</span>
            <span style="color: var(--f2);">{{ section.title }}</span>
          </div>
        </div>

        <header class="mb-8 pb-6" style="border-bottom: 1px solid var(--c3);">
          <h1 class="text-4xl font-bold mb-3" style="color: var(--f2);">{{ section.title }}</h1>
          {% if section.description %}
          <p class="text-lg" style="color: var(--c4);">{{ section.description }}</p>
          {% endif %}
        </header>

        {% if section.content %}
        <div class="prose max-w-none mb-10">
          {{ section.content | safe }}
        </div>
        {% endif %}

        {% if section.pages %}
        <section class="space-y-4">
          {% for page in section.pages %}
          <a href="{{ page.permalink | safe }}" class="block p-6 rounded-xl transition-all" style="background: color-mix(in srgb, var(--c2) 40%, transparent); border: 1px solid var(--c3); text-decoration: none;" onmouseover="this.style.borderColor='color-mix(in srgb, var(--a1) 50%, transparent)'" onmouseout="this.style.borderColor='var(--c3)'">
            <h3 class="text-lg font-bold mb-2" style="color: var(--f2);">{{ page.title }}</h3>
            {% if page.description %}
            <p class="text-sm" style="color: var(--c4);">{{ page.description }}</p>
            {% endif %}
          </a>
          {% endfor %}
        </section>
        {% endif %}

        {% if section.subsections %}
        <section class="mt-12 space-y-4">
          <h2 class="text-2xl font-bold mb-6" style="color: var(--f2);">Subsections</h2>
          {% for subsection in section.subsections %}
          <a href="{{ subsection.permalink | safe }}" class="block p-6 rounded-xl transition-all" style="background: color-mix(in srgb, var(--c2) 40%, transparent); border: 1px solid var(--c3); text-decoration: none;" onmouseover="this.style.borderColor='color-mix(in srgb, var(--a1) 50%, transparent)'" onmouseout="this.style.borderColor='var(--c3)'">
            <h3 class="text-lg font-bold mb-2" style="color: var(--f2);">{{ subsection.title }}</h3>
            {% if subsection.description %}
            <p class="text-sm" style="color: var(--c4);">{{ subsection.description }}</p>
            {% endif %}
          </a>
          {% endfor %}
        </section>
        {% endif %}
      </article>
    </main>
  </div>

  {% include "partials/footer.html" %}
</div>
{% endblock content %}
