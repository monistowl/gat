{% extends "base.html" %}

{% block content %}
<div class="relative z-10">
  {% include "partials/header.html" %}

  <div class="max-w-screen-2xl mx-auto px-6 py-8 grid lg:grid-cols-12 gap-6 xl:gap-8">
    {% set doc_home = get_section(path=section.path) %}
    {% set doc_home_label = doc_home.title | default(value="Docs") %}
    {% set current_path = current_path %}
    {% set doc_home_url = doc_home.permalink %}
    {% include "partials/sidebar.html" %}

    <main class="lg:col-span-9 xl:col-span-9">
      <article class="bg-slate-900/20 border border-slate-800 rounded-lg p-8 lg:p-12">
        <div class="flex items-center justify-between text-sm text-slate-500 mb-6">
          <div>
            <a href="{{ get_url(path='/') }}" class="hover:text-orange-500 transition-colors">Home</a>
            <span class="mx-2">/</span>
            <a href="{{ get_url(path='/docs/') }}" class="hover:text-orange-500 transition-colors">Docs</a>
            {% if section.ancestors %}
              {% for ancestor in section.ancestors %}
                {% set ancestor_section = get_section(path=ancestor) %}
                <span class="mx-2">/</span>
                <a href="{{ ancestor_section.permalink }}" class="hover:text-orange-500 transition-colors">{{ ancestor_section.title }}</a>
              {% endfor %}
            {% endif %}
            <span class="mx-2">/</span>
            <span class="text-white">{{ section.title }}</span>
          </div>
        </div>

        <header class="mb-8 border-b border-slate-800 pb-6">
          <h1 class="text-4xl font-bold text-white mb-3">{{ section.title }}</h1>
          {% if section.description %}
          <p class="text-lg text-slate-400">{{ section.description }}</p>
          {% endif %}
        </header>

        {% if section.content %}
        <div class="prose prose-invert prose-orange max-w-none mb-10">
          {{ section.content | safe }}
        </div>
        {% endif %}

        {% if section.pages %}
        <section class="space-y-4">
          {% for page in section.pages %}
          <a href="{{ page.permalink | safe }}" class="block bg-slate-900/40 border border-slate-800 p-6 rounded-xl hover:border-orange-500/50 transition-all">
            <h3 class="text-lg font-bold text-white mb-2">{{ page.title }}</h3>
            {% if page.description %}
            <p class="text-slate-400 text-sm">{{ page.description }}</p>
            {% endif %}
          </a>
          {% endfor %}
        </section>
        {% endif %}

        {% if section.subsections %}
        <section class="mt-12 space-y-4">
          <h2 class="text-2xl font-bold text-white mb-6">Subsections</h2>
          {% for subsection in section.subsections %}
          <a href="{{ subsection.permalink | safe }}" class="block bg-slate-900/40 border border-slate-800 p-6 rounded-xl hover:border-orange-500/50 transition-all">
            <h3 class="text-lg font-bold text-white mb-2">{{ subsection.title }}</h3>
            {% if subsection.description %}
            <p class="text-slate-400 text-sm">{{ subsection.description }}</p>
            {% endif %}
          </a>
          {% endfor %}
        </section>
        {% endif %}
      </article>
    </main>
  </div>

  {% include "partials/footer.html" %}
</div>
{% endblock content %}
